(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[962],{650:function(e,a,r){Promise.resolve().then(r.bind(r,1431)),Promise.resolve().then(r.bind(r,987)),Promise.resolve().then(r.bind(r,170)),Promise.resolve().then(r.bind(r,3667)),Promise.resolve().then(r.t.bind(r,231,23))},987:function(e,a,r){"use strict";r.d(a,{default:function(){return m}});var s=r(7437),t=r(9343),i=r(9772),l=r(1014),o=r(2265),n=r(1446),c=r(8582);let d=c.uO.formData({name:i.z.string().nonempty("Nome \xe9 Obrigat\xf3rio").min(3,"M\xednimo de 3 Letras para o Nome"),description:i.z.string().nonempty("Descri\xe7\xe3o \xe9 Obrigat\xf3rio").min(3,"M\xednimo de 3 Letras para a Descri\xe7\xe3o"),image:c.uO.file(i.z.instanceof(FileList)).transform(e=>(console.log({fileList:e,file:e[0]}),e[0])).refine(e=>e&&e.size<=3e8,{message:"Tamanho M\xe1ximo da Imagem 300MB"}).refine(e=>e&&e&&["image/jpeg","image/jpg","image/png","image/webp","image/gif"].includes(e.type),{message:"Formato n\xe3o Suportado"})});function m(e){let{tenantId:a}=e,{register:r,handleSubmit:i,formState:{errors:c},setValue:m,getValues:g}=(0,t.cI)({resolver:(0,l.F)(d)}),[x,p]=(0,o.useState)(!1);async function u(e){let r=new FormData;for(let a in e)r.append(a,e[a]);e.image&&r.set("image",e.image),r.append("menu",a),(await fetch("/api/category/create-category",{method:"POST",body:r})).ok?(p(!1),console.log("Categoria criado com sucesso")):console.error("Erro ao criar Categoria")}return(0,s.jsx)(n.V,{open:x,setOpen:p,trigger:(0,s.jsx)("li",{children:(0,s.jsxs)("button",{className:"w-full group flex items-center rounded-lg p-2 text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700",children:[(0,s.jsxs)("svg",{className:"flex-shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:[(0,s.jsx)("path",{d:"M5 5V.13a2.96 2.96 0 0 0-1.293.749L.879 3.707A2.96 2.96 0 0 0 .13 5H5Z"}),(0,s.jsx)("path",{d:"M6.737 11.061a2.961 2.961 0 0 1 .81-1.515l6.117-6.116A4.839 4.839 0 0 1 16 2.141V2a1.97 1.97 0 0 0-1.933-2H7v5a2 2 0 0 1-2 2H0v11a1.969 1.969 0 0 0 1.933 2h12.134A1.97 1.97 0 0 0 16 18v-3.093l-1.546 1.546c-.413.413-.94.695-1.513.81l-3.4.679a2.947 2.947 0 0 1-1.85-.227 2.96 2.96 0 0 1-1.635-3.257l.681-3.397Z"}),(0,s.jsx)("path",{d:"M8.961 16a.93.93 0 0 0 .189-.019l3.4-.679a.961.961 0 0 0 .49-.263l6.118-6.117a2.884 2.884 0 0 0-4.079-4.078l-6.117 6.117a.96.96 0 0 0-.263.491l-.679 3.4A.961.961 0 0 0 8.961 16Zm7.477-9.8a.958.958 0 0 1 .68-.281.961.961 0 0 1 .682 1.644l-.315.315-1.36-1.36.313-.318Zm-5.911 5.911 4.236-4.236 1.359 1.359-4.236 4.237-1.7.339.341-1.699Z"})]}),(0,s.jsx)("span",{className:"ms-3 ",children:"Adicionar Categoria"})]})}),children:(0,s.jsxs)("div",{className:"p-8 bg-gray-700 rounded-lg shadow-lg h-full",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Adicionar Categoria"}),(0,s.jsxs)("form",{onSubmit:i(u),className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1 mt-8",children:[(0,s.jsx)("label",{className:" text-gray-300",children:"Nome:"}),(0,s.jsx)("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded text-gray-700",...r("name")}),c.name&&(0,s.jsx)("span",{className:"mt-2 text-red-500",children:c.name.message})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1 mt-8",children:[(0,s.jsx)("label",{className:" text-gray-300",children:"Descri\xe7\xe3o:"}),(0,s.jsx)("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded text-gray-700",...r("description")}),c.description&&(0,s.jsx)("span",{className:"mt-2 text-red-500",children:c.description.message})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1 mt-8",children:[(0,s.jsx)("label",{className:" text-gray-300",children:"Imagem:"}),(0,s.jsx)("input",{type:"file",className:"w-full p-2 border border-gray-300 rounded text-gray-700",...r("image")}),c.image&&(0,s.jsx)("span",{className:"mt-2 text-red-500",children:c.image.message})]})]}),(0,s.jsx)("button",{type:"submit",className:"w-full bg-gray-500 text-white p-2 rounded",children:"Salvar"})]})]})})}},3667:function(e,a,r){"use strict";r.d(a,{default:function(){return g}});var s=r(7437),t=r(9343),i=r(9772),l=r(1014),o=r(2265);function n(e){let{tenant:a,register:r}=e,[t,i]=(0,o.useState)([]);return(0,o.useEffect)(()=>{if(!a){console.error("Tenant is undefined or empty");return}(async()=>{try{let e=await fetch("/api/category/category-box/".concat(a)),r=await e.json();r.categories?i(r.categories):console.error("No categories found or error occurred:",r.error)}catch(e){console.error("Error fetching categories:",e),i([])}})()},[a]),(0,s.jsx)("div",{children:(0,s.jsxs)("select",{className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2",...r("categoria",{required:"Categoria \xe9 obrigat\xf3ria"}),children:[(0,s.jsx)("option",{value:"",children:"Selecione uma categoria"}),t.map(e=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))]})})}var c=r(1446),d=r(8582);let m=i.z.object({name:i.z.string().nonempty("Nome \xe9 Obrigat\xf3rio").min(3,"M\xednimo de 3 Letras para o Nome"),description:i.z.string().nonempty("Descri\xe7\xe3o \xe9 Obrigat\xf3ria").min(3,"M\xednimo de 3 Letras para Descri\xe7\xe3o"),price:i.z.string().nonempty("Pre\xe7o \xe9 Obrigat\xf3rio"),notices:i.z.string().nonempty("Alerta \xe9 Obrigat\xf3rio"),categoria:i.z.string().nonempty("Categoria \xe9 Obrigat\xf3rio"),nutricionalTable:i.z.string().nonempty("Tabela Nutricional \xe9 Obrigat\xf3ria"),image:d.uO.file(i.z.instanceof(FileList)).transform(e=>e[0]).refine(e=>e&&e.size<=3e8,{message:"Tamanho M\xe1ximo da Imagem 300MB"}).refine(e=>e&&e&&["image/jpeg","image/jpg","image/png","image/webp","image/gif"].includes(e.type),{message:"Formato n\xe3o Suportado"})});function g(e){let{tenant:a}=e,{register:r,handleSubmit:i,formState:{errors:d},setValue:g,getValues:x}=(0,t.cI)({resolver:(0,l.F)(m)}),[p,u]=(0,o.useState)(!1);async function h(e){let r=new FormData;for(let a in e)r.append(a,e[a]);e.image&&r.set("image",e.image),r.append("menu",a),(await fetch("/api/product/create-product",{method:"POST",body:r})).ok?(u(!1),console.log(p),console.log("Produto criado com sucesso")):console.log("Erro ao criar produto")}return(0,s.jsx)(c.V,{open:p,setOpen:u,trigger:(0,s.jsx)("li",{children:(0,s.jsxs)("button",{className:"w-full group flex items-center rounded-lg p-2 text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700",children:[(0,s.jsxs)("svg",{className:"flex-shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:[(0,s.jsx)("path",{d:"M5 5V.13a2.96 2.96 0 0 0-1.293.749L.879 3.707A2.96 2.96 0 0 0 .13 5H5Z"}),(0,s.jsx)("path",{d:"M6.737 11.061a2.961 2.961 0 0 1 .81-1.515l6.117-6.116A4.839 4.839 0 0 1 16 2.141V2a1.97 1.97 0 0 0-1.933-2H7v5a2 2 0 0 1-2 2H0v11a1.969 1.969 0 0 0 1.933 2h12.134A1.97 1.97 0 0 0 16 18v-3.093l-1.546 1.546c-.413.413-.94.695-1.513.81l-3.4.679a2.947 2.947 0 0 1-1.85-.227 2.96 2.96 0 0 1-1.635-3.257l.681-3.397Z"}),(0,s.jsx)("path",{d:"M8.961 16a.93.93 0 0 0 .189-.019l3.4-.679a.961.961 0 0 0 .49-.263l6.118-6.117a2.884 2.884 0 0 0-4.079-4.078l-6.117 6.117a.96.96 0 0 0-.263.491l-.679 3.4A.961.961 0 0 0 8.961 16Zm7.477-9.8a.958.958 0 0 1 .68-.281.961.961 0 0 1 .682 1.644l-.315.315-1.36-1.36.313-.318Zm-5.911 5.911 4.236-4.236 1.359 1.359-4.236 4.237-1.7.339.341-1.699Z"})]}),(0,s.jsx)("span",{className:"ms-3",children:"Adicionar Produto"})]})}),children:(0,s.jsxs)("div",{className:"p-8 bg-gray-700 rounded-lg shadow-lg",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Adicionar Produto"}),(0,s.jsxs)("form",{onSubmit:i(h),className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)("label",{className:"text-gray-300",children:"Nome do Produto:"}),(0,s.jsx)("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded text-gray-700",...r("name")}),d.name&&(0,s.jsx)("span",{className:"text-red-500",children:d.name.message})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)("label",{className:"text-gray-300",children:"Descri\xe7\xe3o:"}),(0,s.jsx)("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded text-gray-700",...r("description")}),d.description&&(0,s.jsx)("span",{className:"text-red-500",children:d.description.message})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)("label",{className:" text-gray-300",children:"Pre\xe7o:"}),(0,s.jsxs)("div",{className:"relative w-full",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 start-0 top-0 flex items-center ps-3.5 pointer-events-none",children:(0,s.jsx)("svg",{className:"w-4 h-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16",children:(0,s.jsx)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 2a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1M2 5h12a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1Zm8 5a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"})})}),(0,s.jsx)("input",{type:"number",step:"0.01",className:"block p-2 w-full z-20 ps-10 border border-gray-300 rounded text-gray-700",placeholder:"Inserir Pre\xe7o",...r("price")})]}),d.price&&(0,s.jsx)("span",{className:"text-red-500",children:d.price.message})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)("label",{className:"text-gray-300",children:"Categoria:"}),(0,s.jsx)(n,{tenant:a,register:r})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)("label",{className:"text-gray-300",children:"Alertas:"}),(0,s.jsx)("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded text-gray-700",...r("notices")}),d.notices&&(0,s.jsx)("span",{className:"text-red-500",children:d.notices.message})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)("label",{className:"text-gray-300",children:"Tabela Nutricional:"}),(0,s.jsx)("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded text-gray-700",...r("nutricionalTable")}),d.nutricionalTable&&(0,s.jsx)("span",{className:"text-red-500",children:d.nutricionalTable.message})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1 mt-8",children:[(0,s.jsx)("label",{className:" text-gray-300",children:"Imagem:"}),(0,s.jsx)("input",{type:"file",className:"w-full p-2 border border-gray-300 rounded text-gray-700",...r("image")}),d.image&&(0,s.jsx)("span",{className:"mt-2 text-red-500",children:d.image.message})]})]}),(0,s.jsx)("button",{type:"submit",className:"w-full bg-gray-500 text-white p-2 rounded",children:"Salvar"})]})]})})}}},function(e){e.O(0,[374,342,286,971,23,744],function(){return e(e.s=650)}),_N_E=e.O()}]);