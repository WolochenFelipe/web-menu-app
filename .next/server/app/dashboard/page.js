(()=>{var e={};e.id=702,e.ids=[702],e.modules={3524:e=>{"use strict";e.exports=require("@prisma/client")},7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2254:e=>{"use strict";e.exports=require("node:buffer")},6005:e=>{"use strict";e.exports=require("node:crypto")},5673:e=>{"use strict";e.exports=require("node:events")},8849:e=>{"use strict";e.exports=require("node:http")},2286:e=>{"use strict";e.exports=require("node:https")},7261:e=>{"use strict";e.exports=require("node:util")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},310:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d}),r(4532),r(1372),r(5866);var a=r(3191),s=r(8716),i=r(7922),n=r.n(i),o=r(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,4532)),"C:\\Users\\felip\\Desktop\\Faculdade\\Estagio MT\\web-menu\\app\\dashboard\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,1372)),"C:\\Users\\felip\\Desktop\\Faculdade\\Estagio MT\\web-menu\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\felip\\Desktop\\Faculdade\\Estagio MT\\web-menu\\app\\dashboard\\page.tsx"],u="/dashboard/page",m={require:r,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5944:(e,t,r)=>{Promise.resolve().then(r.bind(r,8245)),Promise.resolve().then(r.bind(r,5850))},5358:(e,t,r)=>{Promise.resolve().then(r.bind(r,9920))},2647:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},8245:(e,t,r)=>{"use strict";r.d(t,{default:()=>u});var a=r(326),s=r(4723),i=r(7256),n=r(4064),o=r(7577),l=r(6375),d=r(9111);let c=i.z.object({name:i.z.string().nonempty("Nome \xe9 Obrigat\xf3rio").min(3,"M\xednimo de 3 Letras para o Nome"),subdomain:i.z.string().nonempty("Sudominio \xe9 Obrigat\xf3rio").min(3,"M\xednimo de 3 Letras para o subdominio"),user:i.z.string().optional(),image:d.uO.file(i.z.instanceof(FileList)).transform(e=>(console.log({fileList:e,file:e[0]}),e[0])).refine(e=>e&&e.size<=3e8,{message:"Tamanho M\xe1ximo da Imagem 300MB"}).refine(e=>e&&e&&["image/jpeg","image/jpg","image/png","image/webp","image/gif"].includes(e.type),{message:"Formato n\xe3o Suportado"})});function u(){let{register:e,handleSubmit:t,formState:{errors:r},setValue:i,getValues:d}=(0,s.cI)({resolver:(0,n.F)(c)}),[u,m]=(0,o.useState)(!1);async function x(e){let t=new FormData;for(let r in e)t.append(r,e[r]);e.image&&t.set("image",e.image),(await fetch("/api/create-tenant",{method:"POST",body:t})).ok?console.log("Menu criado com sucesso"):console.error("Erro ao criar menu")}return a.jsx(a.Fragment,{children:a.jsx(l.V,{open:u,setOpen:m,trigger:a.jsx("li",{children:(0,a.jsxs)("button",{className:"w-full group flex items-center rounded-lg p-2 text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700",children:[(0,a.jsxs)("svg",{className:"flex-shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:[a.jsx("path",{d:"M5 5V.13a2.96 2.96 0 0 0-1.293.749L.879 3.707A2.96 2.96 0 0 0 .13 5H5Z"}),a.jsx("path",{d:"M6.737 11.061a2.961 2.961 0 0 1 .81-1.515l6.117-6.116A4.839 4.839 0 0 1 16 2.141V2a1.97 1.97 0 0 0-1.933-2H7v5a2 2 0 0 1-2 2H0v11a1.969 1.969 0 0 0 1.933 2h12.134A1.97 1.97 0 0 0 16 18v-3.093l-1.546 1.546c-.413.413-.94.695-1.513.81l-3.4.679a2.947 2.947 0 0 1-1.85-.227 2.96 2.96 0 0 1-1.635-3.257l.681-3.397Z"}),a.jsx("path",{d:"M8.961 16a.93.93 0 0 0 .189-.019l3.4-.679a.961.961 0 0 0 .49-.263l6.118-6.117a2.884 2.884 0 0 0-4.079-4.078l-6.117 6.117a.96.96 0 0 0-.263.491l-.679 3.4A.961.961 0 0 0 8.961 16Zm7.477-9.8a.958.958 0 0 1 .68-.281.961.961 0 0 1 .682 1.644l-.315.315-1.36-1.36.313-.318Zm-5.911 5.911 4.236-4.236 1.359 1.359-4.236 4.237-1.7.339.341-1.699Z"})]}),a.jsx("span",{className:"ms-3 whitespace-nowrap",children:"Adicionar Menu"})]})}),children:(0,a.jsxs)("div",{className:"p-8 bg-gray-700 rounded-lg shadow-lg h-full",children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Criar Menu "}),(0,a.jsxs)("form",{onSubmit:t(x),className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:" text-gray-300",children:"Nome do Estabelecimento:"}),a.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded text-gray-700",...e("name"),required:!0}),a.jsx("label",{className:" text-gray-300",children:"Subdominio:"}),a.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded text-gray-700",...e("subdomain"),required:!0}),(0,a.jsxs)("div",{className:"flex flex-col gap-1 mt-8",children:[a.jsx("label",{className:" text-gray-300",children:"Imagem:"}),a.jsx("input",{type:"file",className:"w-full p-2 border border-gray-300 rounded text-gray-700",...e("image")}),r.image&&a.jsx("span",{className:"mt-2 text-red-500",children:r.image.message})]})]}),a.jsx("button",{type:"submit",className:"w-full bg-gray-500 text-white p-2 rounded",children:"Salvar"})]})]})})})}},6375:(e,t,r)=>{"use strict";r.d(t,{V:()=>i});var a=r(326),s=r(962);function i({children:e,trigger:t,open:r,setOpen:i}){return(0,a.jsxs)(a.Fragment,{children:[t&&a.jsx("div",{onClick:()=>i(!0),children:t}),r&&(0,s.createPortal)(a.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg min-w-md max-w-lg relative",children:[a.jsx("button",{className:"absolute top-2 right-2 text-gray-600 hover:text-gray-800",onClick:()=>i(!1),children:"\xd7"}),e]})}),document.body)]})}},5850:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});var a=r(326),s=r(7577),i=r(7389);function n(){let[e,t]=(0,s.useState)([]),r=(0,i.useRouter)(),n=e=>{r.push(`/dashboard/${e.subdomain}`)};return a.jsx("div",{className:"grid grid-cols-1 gap-4 ml-64",children:0===e.length?a.jsx("div",{children:"No menus available"}):e.map(e=>(0,a.jsxs)("div",{onClick:()=>n(e),className:"bg-gray-300 p-4 rounded-lg shadow-md text-center cursor-pointer",children:[a.jsx("div",{className:"h-16 w-16 mx-auto bg-white rounded-full mb-4",children:e.image&&a.jsx("img",{className:"h-16 w-16 rounded-full object-fill",src:e.image,alt:"image"})}),a.jsx("div",{className:"font-medium",children:e.nome}),a.jsx("div",{className:"text-gray-600",children:e.subdomain}),(0,a.jsxs)("div",{className:"flex w-full justify-end",children:[a.jsx("button",{onClick:()=>o(e.subdomain),children:a.jsx("svg",{className:"w-12 h-12 text-gray-800 dark:text-red-500","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{"fill-rule":"evenodd",d:"M8.586 2.586A2 2 0 0 1 10 2h4a2 2 0 0 1 2 2v2h3a1 1 0 1 1 0 2v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a1 1 0 0 1 0-2h3V4a2 2 0 0 1 .586-1.414ZM10 6h4V4h-4v2Zm1 4a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Zm4 0a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Z","clip-rule":"evenodd"})})}),a.jsx("button",{onClick:()=>l(e.subdomain),children:a.jsx("svg",{className:"w-12 h-12 text-gray-800 ","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:a.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m14.304 4.844 2.852 2.852M7 7H4a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1v-4.5m2.409-9.91a2.017 2.017 0 0 1 0 2.853l-6.844 6.844L8 14l.713-3.565 6.844-6.844a2.015 2.015 0 0 1 2.852 0Z"})})})]})]},e.subdomain))});async function o(e){try{(await fetch("/api/delete-tenant",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})})).ok?console.log("Tenant deleted successfully"):console.error("Failed to delete tenant")}catch(e){console.error("Error deleting tenant:",e)}}async function l(e){}}},9920:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>i});var a=r(326),s=r(5988);let i=({children:e})=>a.jsx(s.wU,{children:e})},4532:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var a=r(9510),s=r(3524),i=r(8570);let n=(0,i.createProxy)(String.raw`C:\Users\felip\Desktop\Faculdade\Estagio MT\web-menu\app\components\create-menu.tsx`),{__esModule:o,$$typeof:l}=n;n.default;let d=(0,i.createProxy)(String.raw`C:\Users\felip\Desktop\Faculdade\Estagio MT\web-menu\app\components\create-menu.tsx#default`),c=(0,i.createProxy)(String.raw`C:\Users\felip\Desktop\Faculdade\Estagio MT\web-menu\app\components\menu-box.tsx`),{__esModule:u,$$typeof:m}=c;c.default;let x=(0,i.createProxy)(String.raw`C:\Users\felip\Desktop\Faculdade\Estagio MT\web-menu\app\components\menu-box.tsx#default`);var p=r(1036),h=r(5247);async function g(){let{getUser:e}=(0,h.Gs)(),t=await e();return a.jsx("div",{className:"relative h-screen",children:a.jsx("div",{className:" h-screen bg-white ",children:(0,a.jsxs)("div",{className:"flex max-h-screen",children:[a.jsx("aside",{id:"default-sidebar",className:"fixed left-0 top-0 z-40 h-screen w-64 -translate-x-full transition-transform sm:translate-x-0","aria-label":"Sidebar",children:a.jsx("div",{className:"h-full overflow-y-auto bg-gray-50 px-3 py-4 dark:bg-gray-800",children:(0,a.jsxs)("ul",{className:"space-y-2 font-medium",children:[a.jsx("li",{children:(0,a.jsxs)("button",{className:"w-full group flex items-center rounded-lg p-2 text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700",children:[(0,a.jsxs)("svg",{className:"h-5 w-5 text-gray-500 transition duration-75 group-hover:text-gray-900 dark:text-gray-400 dark:group-hover:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 22 21",children:[a.jsx("path",{d:"M16.975 11H10V4.025a1 1 0 0 0-1.066-.998 8.5 8.5 0 1 0 9.039 9.039.999.999 0 0 0-1-1.066h.002Z"}),a.jsx("path",{d:"M12.5 0c-.157 0-.311.01-.565.027A1 1 0 0 0 11 1.02V10h8.975a1 1 0 0 0 1-.935c.013-.188.028-.374.028-.565A8.51 8.51 0 0 0 12.5 0Z"})]}),a.jsx("span",{className:"ms-3",children:"Dashboard"})]})}),a.jsx(d,{}),t?a.jsx(p.jo,{children:a.jsx("li",{children:(0,a.jsxs)("a",{href:"http://localhost:3000/",className:"w-full group flex items-center rounded-lg p-2 text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700",children:[a.jsx("svg",{className:"h-5 w-5 flex-shrink-0 text-gray-500 transition duration-75 group-hover:text-gray-900 dark:text-gray-400 dark:group-hover:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 16",children:a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M1 8h11m0 0L8 4m4 4l-4 4m4-11h3a2 2 0 012 2v10a2 2 0 01-2 2h-3"})}),a.jsx("span",{className:"ms-3 flex-1 whitespace-nowrap",children:"Deslogar"})]})})}):a.jsx("div",{})]})})}),(0,a.jsxs)("main",{className:"h-screen flex-1 p-8 text-black",children:[a.jsx("header",{className:"text-2xl font-bold mb-8",children:"Gest\xe3o do Cat\xe1logo"}),a.jsx("section",{children:a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Menus"})}),a.jsx("div",{className:"overflow-y-auto h-2/3",children:a.jsx(x,{})})]})]})})})}new s.PrismaClient},1372:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c,metadata:()=>d});var a=r(9510);r(7272);var s=r(8570);let i=(0,s.createProxy)(String.raw`C:\Users\felip\Desktop\Faculdade\Estagio MT\web-menu\app\components\providers\auth-provider.tsx`),{__esModule:n,$$typeof:o}=i;i.default;let l=(0,s.createProxy)(String.raw`C:\Users\felip\Desktop\Faculdade\Estagio MT\web-menu\app\components\providers\auth-provider.tsx#AuthProvider`),d={title:"Create Next App",description:"Generated by create next app"};function c({children:e}){return a.jsx(l,{children:a.jsx("html",{lang:"en",children:a.jsx("body",{children:e})})})}},7481:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var a=r(6621);let s=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},7272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[948,70,247,156,621,686,798],()=>r(310));module.exports=a})();